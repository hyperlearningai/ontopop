spring:
    application:
        name: ontopop
    cloud:
        stream:
            binders:
                rabbitmq:
                    type: rabbit
                    default-candidate: true
                    environment:
                        spring:
                            rabbitmq:
                                host: ${rabbitmq.host}
                                port: ${rabbitmq.port}
                                username: ${rabbitmq.username}
                                password: ${rabbitmq.password}
                                virtual-host: /
                azure_service_bus:
                    type: servicebus-topic
                    environment:
                        spring:
                            cloud:
                                azure:
                                    servicebus:
                                        connection-string: ${azure.service-bus.connection-string}
            bindings:
                ingestedPublicationChannel:
                    destination: ontopop.data.ingested
                    binder: azure_service_bus
                ingestedConsumptionChannel:
                    destination: ontopop.data.ingested
                    binder: azure_service_bus
                validatedPublicationChannel:
                    destination: ontopop.data.validated
                    binder: azure_service_bus
                validatedConsumptionChannel:
                    destination: ontopop.data.validated
                    binder: azure_service_bus
                parsedPublicationChannel:
                    destination: ontopop.data.parsed
                    binder: azure_service_bus
                parsedConsumptionChannel:
                    destination: ontopop.data.parsed
                    binder: azure_service_bus
                modelledPublicationChannel:
                    destination: ontopop.data.modelled
                    binder: azure_service_bus
                modelledConsumptionChannel:
                    destination: ontopop.data.modelled
                    binder: azure_service_bus
                modelledLoadedPublicationChannel:
                    destination: ontopop.data.modelled.loaded
                    binder: azure_service_bus
                modelledLoadedConsumptionChannel:
                    destination: ontopop.data.modelled.loaded
                    binder: azure_service_bus
                modelledIndexedPublicationChannel:
                    destination: ontopop.data.modelled.indexed
                    binder: azure_service_bus
                modelledIndexedConsumptionChannel:
                    destination: ontopop.data.modelled.indexed
                    binder: azure_service_bus
                validatedLoadedPublicationChannel:
                    destination: ontopop.data.validated.loaded
                    binder: azure_service_bus
                validatedLoadedConsumptionChannel:
                    destination: ontopop.data.validated.loaded
                    binder: azure_service_bus
            default:
                contentType: application/json
        vault:
            host: localhost
            port: 8200
            scheme: http
            authentication: TOKEN
            token: ${VAULT_TOKEN}
            kv:
                enabled: true
                backend: secret
                default-context: ontopop/development
    datasource:
        driver-class-name: org.hsqldb.jdbc.JDBCDriver
        url: ${spring.datasource.url}
        username: ${spring.datasource.username}
        password: ${spring.datasource.password}
    jackson:
        serialization:
            write_dates_as_timestamps: false
    jpa:
        hibernate:
            ddl-auto: update
        show-sql: false
security:
    secrets:
        service: hashicorp-vault
        aws-secrets-manager: 
            access-key-id: ${aws.secrets-manager.access-key-id}
            access-key-secret: ${aws.secrets-manager.access-key-secret}
            region: eu-west-2
        azure-key-vault:
            url: ${azure.key-vault.url}
        hashicorp-vault:
            paths:
                subpaths:
                    ontologies: /ontologies/
storage:
    object:
        service: local
        local:
            baseUri: ${local.storage.base.directory.path}
        aws-s3:
            access-key-id: ${aws.s3.access-key-id}
            access-key-secret: ${aws.s3.access-key-secret}
            region: eu-west-2
            bucket-name: ontopop
        azure-storage:
            account-name: ${azure.storage.account-name}
            account-key: ${azure.storage.account-key}
            blob-endpoint: ${azure.storage.blob-endpoint}
            container-name: ontopop
        containers:
            ingested: ingested
            validated: validated
            parsed: parsed
            modelled: modelled
            loaded:
                triplestore: loaded/triplestore
                graph: loaded/graph
            indexed: indexed
        patterns:
            fileNameIdsSeparator: "_"
    triplestore:
        service: apache-jena
        apache-jena:
            fuseki:
                url: ${jena.fuseki.url}
        ontotext-graphdb:
            url: ${ontotext.graphdb.url}
    graph:
        service: tinkergraph
        gremlin-graph:
            configuration-filename: gremlin-graph.properties
    search:
        service: elasticsearch
        indexNamePrefix: ontopop
        elasticsearch:
            url: ${elasticsearch.url}
            shards: 1
            replicas: 0
web:
    client:
        codecs:
            maxInMemorySize: 10
